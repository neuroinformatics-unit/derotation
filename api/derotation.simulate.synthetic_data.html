
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>derotation.simulate.synthetic_data &#8212; Derotation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=8d03875c" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=92734c54"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/derotation.simulate.synthetic_data';</script>
    <link rel="canonical" href="https://derotation.neuroinformatics.dev/api/derotation.simulate.synthetic_data.html" />
    <link rel="icon" href="../_static/light-logo-niu.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="derotation.simulate.line_scanning_microscope" href="derotation.simulate.line_scanning_microscope.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">derotation v0.1.2</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../contributing.html">
    Contributing Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../api_index.html">
    API Reference
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/neuroinformatics-unit/derotation" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://neuroinformatics.zulipchat.com/#narrow/channel/495735-Derotation" title="Zulip (chat)" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-comments fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Zulip (chat)</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="../user_guide/index.html">
    User Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../examples/index.html">
    Examples
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="../contributing.html">
    Contributing Guide
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="../api_index.html">
    API Reference
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/neuroinformatics-unit/derotation" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://neuroinformatics.zulipchat.com/#narrow/channel/495735-Derotation" title="Zulip (chat)" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fa-solid fa-comments fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Zulip (chat)</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="derotation.analysis.bayesian_optimization.html">derotation.analysis.bayesian_optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="derotation.analysis.blob_detection.html">derotation.analysis.blob_detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="derotation.analysis.fit_ellipse.html">derotation.analysis.fit_ellipse</a></li>
<li class="toctree-l1"><a class="reference internal" href="derotation.analysis.full_derotation_pipeline.html">derotation.analysis.full_derotation_pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="derotation.analysis.incremental_derotation_pipeline.html">derotation.analysis.incremental_derotation_pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="derotation.analysis.mean_images.html">derotation.analysis.mean_images</a></li>
<li class="toctree-l1"><a class="reference internal" href="derotation.analysis.metrics.html">derotation.analysis.metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="derotation.config.load_config.html">derotation.config.load_config</a></li>
<li class="toctree-l1"><a class="reference internal" href="derotation.derotate_batch.html">derotation.derotate_batch</a></li>
<li class="toctree-l1"><a class="reference internal" href="derotation.derotate_by_line.html">derotation.derotate_by_line</a></li>
<li class="toctree-l1"><a class="reference internal" href="derotation.load_data.custom_data_loaders.html">derotation.load_data.custom_data_loaders</a></li>
<li class="toctree-l1"><a class="reference internal" href="derotation.plotting_hooks.for_derotation.html">derotation.plotting_hooks.for_derotation</a></li>
<li class="toctree-l1"><a class="reference internal" href="derotation.simulate.line_scanning_microscope.html">derotation.simulate.line_scanning_microscope</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">derotation.simulate.synthetic_data</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="../api_index.html" class="nav-link">API Reference</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">derotation.simulate.synthetic_data</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="module-derotation.simulate.synthetic_data">
<span id="derotation-simulate-synthetic-data"></span><h1>derotation.simulate.synthetic_data<a class="headerlink" href="#module-derotation.simulate.synthetic_data" title="Link to this heading">#</a></h1>
<p>This module contains the <code class="docutils literal notranslate"><span class="pre">SyntheticData</span></code> class that generates synthetic data
for testing and developing the derotation pipeline.</p>
<p class="rubric">Classes</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#derotation.simulate.synthetic_data.SyntheticData" title="derotation.simulate.synthetic_data.SyntheticData"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SyntheticData</span></code></a>([center_of_bright_cell, ...])</p></td>
<td><p>Class to generate synthetic data for testing and developing the derotation pipeline.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="derotation.simulate.synthetic_data.SyntheticData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">derotation.simulate.synthetic_data.</span></span><span class="sig-name descname"><span class="pre">SyntheticData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">center_of_bright_cell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(50,</span> <span class="pre">10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_of_dimmer_cell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(60,</span> <span class="pre">60)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">background_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">80</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lines_per_frame</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">second_cell</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_frames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center_of_rotation_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_plane_angle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_plane_orientation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plots</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/derotation/simulate/synthetic_data.html#SyntheticData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#derotation.simulate.synthetic_data.SyntheticData" title="Link to this definition">#</a></dt>
<dd><p>Class to generate synthetic data for testing and developing the
derotation pipeline.</p>
<dl class="simple">
<dt>The synthetic data consists of:</dt><dd><ul class="simple">
<li><p>a 2D image with two circles, one bright and one dim (optional),
by default in the top center and bottom right, respectively. Use
the <code class="docutils literal notranslate"><span class="pre">center_of_bright_cell</span></code> and <code class="docutils literal notranslate"><span class="pre">center_of_dimmer_cell</span></code>
parameters to change the location of the circles. If padding and
background value are provided, the image will be padded and the
background value will be set to the background_value.
Padding helps increasing the field of view in order to
accommodate for larger rotations and have more data to derotate.
The background value is useful to distinguish pixels from the
original image from those that are never evaluated, which will
remain 0. NB: padding will alter the number of lines per frame.</p></li>
<li><p>two angle arrays for incremental and sinusoidal rotation</p></li>
<li><p>one 3D image stack with the 2D image repeated for a given number
of frames (this is going to be the input for the <code class="docutils literal notranslate"><span class="pre">Rotator</span></code>)</p></li>
<li><p>two rotated movies made with incremental and sinusoidal rotations</p></li>
<li><dl class="simple">
<dt>two derotated movies:</dt><dd><ul>
<li><p>one made with a mock of the <code class="docutils literal notranslate"><span class="pre">IncrementalPipeline</span></code>, used then
to estimate the center of rotation and the ellipse fits</p></li>
<li><p>one made just with <code class="docutils literal notranslate"><span class="pre">derotate_an_image_array_line_by_line</span></code> with
the sinusoidal rotation angles</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p>Why mocking the <code class="docutils literal notranslate"><span class="pre">IncrementalPipeline</span></code>?
The <code class="docutils literal notranslate"><span class="pre">IncrementalPipeline</span></code> has the responsibility to find the center of
rotation but with mock data we cannot use it off the shelf because it
is too bound to signals coming from a real motor in the
<code class="docutils literal notranslate"><span class="pre">calculate_mean_images</span></code> method and in the constructor.</p>
<p>See the integration_pipeline method for the full pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>center_of_bright_cell</strong> (<em>tuple</em><em>, </em><em>optional</em>) – The location of the brightest cell, by default (50, 10)</p></li>
<li><p><strong>center_of_dimmer_cell</strong> (<em>tuple</em><em>, </em><em>optional</em>) – The location of the dimmer cell, by default (60, 60)</p></li>
<li><p><strong>pad</strong> (<em>int</em><em>, </em><em>optional</em>) – Padding around the image, by default 0</p></li>
<li><p><strong>background_value</strong> (<em>int</em><em>, </em><em>optional</em>) – Background value, by default 80</p></li>
<li><p><strong>lines_per_frame</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of lines per frame, by default 100</p></li>
<li><p><strong>second_cell</strong> (<em>bool</em><em>, </em><em>optional</em>) – Add an extra dimmer cell, by default True</p></li>
<li><p><strong>radius</strong> (<em>int</em><em>, </em><em>optional</em>) – Radius of the circles, by default 5</p></li>
<li><p><strong>num_frames</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of frames in the 3D image stack, by default 100</p></li>
<li><p><strong>center_of_rotation_offset</strong> (<em>tuple</em><em>, </em><em>optional</em>) – The offset of the center of rotation, by default (0, 0)</p></li>
<li><p><strong>rotation_plane_angle</strong> (<em>int</em><em>, </em><em>optional</em>) – The angle of the rotation plane, by default 0</p></li>
<li><p><strong>rotation_plane_orientation</strong> (<em>int</em><em>, </em><em>optional</em>) – The orientation of the rotation plane, by default 0</p></li>
<li><p><strong>plots</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to plot debugging plots, by default False</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table autosummary">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#derotation.simulate.synthetic_data.SyntheticData.create_image_stack" title="derotation.simulate.synthetic_data.SyntheticData.create_image_stack"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_image_stack</span></code></a>()</p></td>
<td><p>Create a 3D image stack by repeating the 2D image for a given number of frames.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#derotation.simulate.synthetic_data.SyntheticData.create_rotation_angles" title="derotation.simulate.synthetic_data.SyntheticData.create_rotation_angles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_rotation_angles</span></code></a>(image_stack_shape)</p></td>
<td><p>Create rotation angles for incremental and sinusoidal rotation for a given 3D image stack.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#derotation.simulate.synthetic_data.SyntheticData.create_sample_image_with_cells" title="derotation.simulate.synthetic_data.SyntheticData.create_sample_image_with_cells"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_sample_image_with_cells</span></code></a>()</p></td>
<td><p>Create a 2D image with two circles, one bright and one dim (optional) by default in the top center and bottom right, respectively.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#derotation.simulate.synthetic_data.SyntheticData.get_center_of_rotation" title="derotation.simulate.synthetic_data.SyntheticData.get_center_of_rotation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_center_of_rotation</span></code></a>(...)</p></td>
<td><p>Get the center of rotation by using the <code class="docutils literal notranslate"><span class="pre">IncrementalPipeline</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#derotation.simulate.synthetic_data.SyntheticData.integration_pipeline" title="derotation.simulate.synthetic_data.SyntheticData.integration_pipeline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">integration_pipeline</span></code></a>()</p></td>
<td><p>Integration pipeline that combines the incremental and sinusoidal rotation pipelines to derotate a 3D image stack.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#derotation.simulate.synthetic_data.SyntheticData.plot_a_few_rotated_frames" title="derotation.simulate.synthetic_data.SyntheticData.plot_a_few_rotated_frames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_a_few_rotated_frames</span></code></a>(...)</p></td>
<td><p>Plot a few frames from the rotated stacks.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#derotation.simulate.synthetic_data.SyntheticData.plot_angles" title="derotation.simulate.synthetic_data.SyntheticData.plot_angles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_angles</span></code></a>(incremental_angles, ...)</p></td>
<td><p>Plot the incremental and sinusoidal rotation angles.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#derotation.simulate.synthetic_data.SyntheticData.plot_derotated_frames" title="derotation.simulate.synthetic_data.SyntheticData.plot_derotated_frames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_derotated_frames</span></code></a>(derotated_sinusoidal)</p></td>
<td><p>Plot a few frames from the derotated stack.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#derotation.simulate.synthetic_data.SyntheticData.plot_each_frame" title="derotation.simulate.synthetic_data.SyntheticData.plot_each_frame"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_each_frame</span></code></a>()</p></td>
<td><p>Plot each frame of the rotated and derotated stacks as an image.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#derotation.simulate.synthetic_data.SyntheticData.plot_mean_projection" title="derotation.simulate.synthetic_data.SyntheticData.plot_mean_projection"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_mean_projection</span></code></a>()</p></td>
<td><p>Plot the mean projection of the derotated sinusoidal stack.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#derotation.simulate.synthetic_data.SyntheticData.plot_original_image" title="derotation.simulate.synthetic_data.SyntheticData.plot_original_image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_original_image</span></code></a>()</p></td>
<td><p>Plot the original image with the two circles.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="derotation.simulate.synthetic_data.SyntheticData.integration_pipeline">
<span class="sig-name descname"><span class="pre">integration_pipeline</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/derotation/simulate/synthetic_data.html#SyntheticData.integration_pipeline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#derotation.simulate.synthetic_data.SyntheticData.integration_pipeline" title="Link to this definition">#</a></dt>
<dd><p>Integration pipeline that combines the incremental and sinusoidal
rotation pipelines to derotate a 3D image stack.</p>
<p>The pipeline rotates the image stack incrementally and sinusoidally
and then derotates the sinusoidal stack using the center of rotation
estimated by the incremental pipeline.</p>
<p>The pipeline also plots debugging plots if the <code class="docutils literal notranslate"><span class="pre">plots</span></code> parameter is
set to <cite>True</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="derotation.simulate.synthetic_data.SyntheticData.create_sample_image_with_cells">
<span class="sig-name descname"><span class="pre">create_sample_image_with_cells</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/derotation/simulate/synthetic_data.html#SyntheticData.create_sample_image_with_cells"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#derotation.simulate.synthetic_data.SyntheticData.create_sample_image_with_cells" title="Link to this definition">#</a></dt>
<dd><p>Create a 2D image with two circles, one bright and one dim
(optional) by default in the top center and bottom right,
respectively.</p>
<p>Location of the circles can be changed by providing the
<code class="docutils literal notranslate"><span class="pre">center_of_bright_cell</span></code> and <code class="docutils literal notranslate"><span class="pre">center_of_dimmer_cell</span></code> parameters.</p>
<p>If specified, the image will be padded and the background value
will be set to the background_value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>center_of_bright_cell</strong> (<em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>, </em><em>optional</em>) – Location of brightest cell, by default (50, 10)</p></li>
<li><p><strong>center_of_dimmer_cell</strong> (<em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>, </em><em>optional</em>) – Location of dimmer cell, by default (60, 60)</p></li>
<li><p><strong>lines_per_frame</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of lines per frame, by default 100</p></li>
<li><p><strong>second_cell</strong> (<em>bool</em><em>, </em><em>optional</em>) – Add an extra dimmer cell, by default True</p></li>
<li><p><strong>radius</strong> (<em>int</em><em>, </em><em>optional</em>) – Radius of the circles, by default 5</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>2D image with two circles, one bright and one dim</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="derotation.simulate.synthetic_data.SyntheticData.create_image_stack">
<span class="sig-name descname"><span class="pre">create_image_stack</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/derotation/simulate/synthetic_data.html#SyntheticData.create_image_stack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#derotation.simulate.synthetic_data.SyntheticData.create_image_stack" title="Link to this definition">#</a></dt>
<dd><p>Create a 3D image stack by repeating the 2D image
for a given number of frames.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>3D image stack</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="derotation.simulate.synthetic_data.SyntheticData.create_rotation_angles">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_rotation_angles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image_stack_shape</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/derotation/simulate/synthetic_data.html#SyntheticData.create_rotation_angles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#derotation.simulate.synthetic_data.SyntheticData.create_rotation_angles" title="Link to this definition">#</a></dt>
<dd><p>Create rotation angles for incremental and sinusoidal rotation
for a given 3D image stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>image_stack_shape</strong> (<em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em>) – Shape of the 3D image stack</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of incremental and sinusoidal rotation angles</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[np.ndarray, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="derotation.simulate.synthetic_data.SyntheticData.get_center_of_rotation">
<span class="sig-name descname"><span class="pre">get_center_of_rotation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rotated_stack_incremental</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incremental_angles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/derotation/simulate/synthetic_data.html#SyntheticData.get_center_of_rotation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#derotation.simulate.synthetic_data.SyntheticData.get_center_of_rotation" title="Link to this definition">#</a></dt>
<dd><p>Get the center of rotation by using the <code class="docutils literal notranslate"><span class="pre">IncrementalPipeline</span></code>.</p>
<p>The Incremental pipeline has the responsibility to find the center of
rotation but with mock data we cannot use it off the shelf because it
is too bound to signals coming from a real motor in the
<code class="docutils literal notranslate"><span class="pre">calculate_mean_images</span></code> method and in the constructor.
We will create a mock class that inherits from the
<code class="docutils literal notranslate"><span class="pre">IncrementalPipeline</span></code> and overwrite the <code class="docutils literal notranslate"><span class="pre">calculate_mean_images</span></code>
method to work with our mock data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rotated_stack_incremental</strong> (<em>np.ndarray</em>) – The 3D image stack rotated incrementally</p></li>
<li><p><strong>incremental_angles</strong> (<em>np.ndarray</em>) – The rotation angles for incremental rotation</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The center of rotation</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[int, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="derotation.simulate.synthetic_data.SyntheticData.plot_angles">
<span class="sig-name descname"><span class="pre">plot_angles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">incremental_angles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sinusoidal_angles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/derotation/simulate/synthetic_data.html#SyntheticData.plot_angles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#derotation.simulate.synthetic_data.SyntheticData.plot_angles" title="Link to this definition">#</a></dt>
<dd><p>Plot the incremental and sinusoidal rotation angles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>incremental_angles</strong> (<em>np.ndarray</em>) – Incremental rotation angles</p></li>
<li><p><strong>sinusoidal_angles</strong> (<em>np.ndarray</em>) – Sinusoidal rotation angles</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="derotation.simulate.synthetic_data.SyntheticData.plot_a_few_rotated_frames">
<span class="sig-name descname"><span class="pre">plot_a_few_rotated_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rotated_stack_incremental</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotated_stack_sinusoidal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/derotation/simulate/synthetic_data.html#SyntheticData.plot_a_few_rotated_frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#derotation.simulate.synthetic_data.SyntheticData.plot_a_few_rotated_frames" title="Link to this definition">#</a></dt>
<dd><p>Plot a few frames from the rotated stacks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rotated_stack_incremental</strong> (<em>np.ndarray</em>) – The 3D image stack rotated incrementally</p></li>
<li><p><strong>rotated_stack_sinusoidal</strong> (<em>np.ndarray</em>) – The 3D image stack rotated sinusoidally</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="derotation.simulate.synthetic_data.SyntheticData.plot_derotated_frames">
<span class="sig-name descname"><span class="pre">plot_derotated_frames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">derotated_sinusoidal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/derotation/simulate/synthetic_data.html#SyntheticData.plot_derotated_frames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#derotation.simulate.synthetic_data.SyntheticData.plot_derotated_frames" title="Link to this definition">#</a></dt>
<dd><p>Plot a few frames from the derotated stack.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>derotated_sinusoidal</strong> (<em>np.ndarray</em>) – The 3D image stack derotated sinusoidally</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="derotation.simulate.synthetic_data.SyntheticData.plot_original_image">
<span class="sig-name descname"><span class="pre">plot_original_image</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/derotation/simulate/synthetic_data.html#SyntheticData.plot_original_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#derotation.simulate.synthetic_data.SyntheticData.plot_original_image" title="Link to this definition">#</a></dt>
<dd><p>Plot the original image with the two circles.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="derotation.simulate.synthetic_data.SyntheticData.plot_each_frame">
<span class="sig-name descname"><span class="pre">plot_each_frame</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/derotation/simulate/synthetic_data.html#SyntheticData.plot_each_frame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#derotation.simulate.synthetic_data.SyntheticData.plot_each_frame" title="Link to this definition">#</a></dt>
<dd><p>Plot each frame of the rotated and derotated stacks as an image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="derotation.simulate.synthetic_data.SyntheticData.plot_mean_projection">
<span class="sig-name descname"><span class="pre">plot_mean_projection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/derotation/simulate/synthetic_data.html#SyntheticData.plot_mean_projection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#derotation.simulate.synthetic_data.SyntheticData.plot_mean_projection" title="Link to this definition">#</a></dt>
<dd><p>Plot the mean projection of the derotated sinusoidal stack.</p>
</dd></dl>

</dd></dl>

</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="derotation.simulate.line_scanning_microscope.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">derotation.simulate.line_scanning_microscope</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#derotation.simulate.synthetic_data.SyntheticData"><code class="docutils literal notranslate"><span class="pre">SyntheticData</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#derotation.simulate.synthetic_data.SyntheticData.integration_pipeline"><code class="docutils literal notranslate"><span class="pre">SyntheticData.integration_pipeline()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#derotation.simulate.synthetic_data.SyntheticData.create_sample_image_with_cells"><code class="docutils literal notranslate"><span class="pre">SyntheticData.create_sample_image_with_cells()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#derotation.simulate.synthetic_data.SyntheticData.create_image_stack"><code class="docutils literal notranslate"><span class="pre">SyntheticData.create_image_stack()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#derotation.simulate.synthetic_data.SyntheticData.create_rotation_angles"><code class="docutils literal notranslate"><span class="pre">SyntheticData.create_rotation_angles()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#derotation.simulate.synthetic_data.SyntheticData.get_center_of_rotation"><code class="docutils literal notranslate"><span class="pre">SyntheticData.get_center_of_rotation()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#derotation.simulate.synthetic_data.SyntheticData.plot_angles"><code class="docutils literal notranslate"><span class="pre">SyntheticData.plot_angles()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#derotation.simulate.synthetic_data.SyntheticData.plot_a_few_rotated_frames"><code class="docutils literal notranslate"><span class="pre">SyntheticData.plot_a_few_rotated_frames()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#derotation.simulate.synthetic_data.SyntheticData.plot_derotated_frames"><code class="docutils literal notranslate"><span class="pre">SyntheticData.plot_derotated_frames()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#derotation.simulate.synthetic_data.SyntheticData.plot_original_image"><code class="docutils literal notranslate"><span class="pre">SyntheticData.plot_original_image()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#derotation.simulate.synthetic_data.SyntheticData.plot_each_frame"><code class="docutils literal notranslate"><span class="pre">SyntheticData.plot_each_frame()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#derotation.simulate.synthetic_data.SyntheticData.plot_mean_projection"><code class="docutils literal notranslate"><span class="pre">SyntheticData.plot_mean_projection()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item"><p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    <br/>
    </p>
    <p class="theme-version">
    Built with the
    <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a>
    0.16.1.
    </p></div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><div class="things-in-a-row">
    <a href="https://neuroinformatics.dev/">
        <img src="../_static/light-logo-niu.png" alt="NIU" class="only-light img-sponsor"/>
        <img src="../_static/dark-logo-niu.png" alt="NIU" class="only-dark img-sponsor"/>
    </a>
    <a href="https://www.sainsburywellcome.org/web/">
        <img src="../_static/light-logo-swc.png" alt="SWC" class="only-light img-sponsor"/>
        <img src="../_static/dark-logo-swc.png" alt="SWC" class="only-dark img-sponsor"/>
    </a>
    <a href="https://www.ucl.ac.uk/">
        <img src="../_static/light-logo-ucl.png" alt="UCL" class="only-light img-sponsor"/>
        <img src="../_static/dark-logo-ucl.png" alt="UCL" class="only-dark img-sponsor"/>
    </a>
</div></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>